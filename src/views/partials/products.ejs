<section class="ftco-section bg-light">
  <div class="container">
    <div class="row justify-content-center mb-3 pb-3">
      <div class="col-md-12 heading-section text-center ftco-animate">
        <h2 class="mb-4">Productos</h2>
        <p>
          Muy lejos, tras las montañas de palabras, lejos de los países.
          Vokalia y Consonantia.
        </p>
      </div>
    </div>
  </div>
  <div class="container">
    <!-- Contenedor del carrusel Swiper -->
    <div class="swiper-container my-products-carousel">
      <div class="swiper-wrapper">
        <% productos.slice(0, 10).forEach(producto => { %>
          <div class="swiper-slide">
            <div class="product">
              <a href="/shop/item/<%= producto.id %>" class="img-prod">
                <img
                  class="img-fluid"
                  src="/uploads/productos/producto_<%= producto.id %>.jpg"
                  alt="<%= producto.nombre %>"
                />
                <% if (producto.typeId === 1) { %>
                  <span class="status">30%</span>
                <% } %>
                <div class="overlay"></div>
              </a>
              <div class="text py-3 px-3">
                <h3><a href="#"><%= producto.nombre || 'Sin nombre' %></a></h3>
                <div class="d-flex">
                  <div class="pricing">
                    <p class="price">
                      <span class="mr-2 price-dc">$ <%= producto.precio %>.-</span>
                      <span class="price-sale">$80.00</span>
                    </p>
                  </div>
                  <div class="rating">
                    <p class="text-right">
                      <a href="#"><span class="ion-ios-star-outline"></span></a>
                      <a href="#"><span class="ion-ios-star-outline"></span></a>
                      <a href="#"><span class="ion-ios-star-outline"></span></a>
                      <a href="#"><span class="ion-ios-star-outline"></span></a>
                      <a href="#"><span class="ion-ios-star-outline"></span></a>
                    </p>
                  </div>
                </div>
                <p class="bottom-area d-flex px-3">
                  <a href="#" class="add-to-cart text-center py-2 mr-1">
                    <span>Agregar a Carrito <i class="ion-ios-add ml-1"></i></span>
                  </a>
                  <a href="#" class="buy-now text-center py-2">
                    Buy now<span><i class="ion-ios-cart ml-1"></i></span>
                  </a>
                </p>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
      <!-- Botones de navegación -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <!-- Paginación (opcional) -->
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>

<!-- Estilos personalizados pasados a /public/css/style.css -->


<!-- Inicialización del carrusel -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper('.my-products-carousel', {
      slidesPerView: 5, // Muestra exactamente 5 productos por defecto
      spaceBetween: 10, // Espacio entre los productos
      slidesPerGroup: 1, // Avanza de 5 en 5 al deslizar
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      breakpoints: {
        // Ajustes para diferentes tamaños de pantalla
        1200: {
          slidesPerView: 5,
          spaceBetween: 20,
        },
        992: {
          slidesPerView: 4,
          spaceBetween: 15,
        },
        768: {
          slidesPerView: 3,
          spaceBetween: 15,
        },
        576: {
          slidesPerView: 2,
          spaceBetween: 10,
        },
        0: {
          slidesPerView: 1,
          spaceBetween: 10,
        },
      },
    });
  });
</script>